<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æƒŠå–œ</title>
    <!-- å¼•å…¥å¤–éƒ¨èµ„æº -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8A2BE2', // ä¸»è‰²è°ƒï¼šç´«ç½—å…°è‰²
                        accent: '#FF69B4',  // å¼ºè°ƒè‰²ï¼šç²‰è‰²
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .btn-pulse {
                animation: pulse 2s infinite;
            }
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
            }
        }
    </style>
</head>
<body class="font-inter bg-gradient-to-br from-purple-100 to-blue-100 min-h-screen flex items-center justify-center p-4 transition-all duration-1000">
    <!-- åˆå§‹ç•Œé¢ -->
    <div id="initial-screen" class="text-center max-w-md">
        <div class="mb-8 text-purple-600">
            <i class="fa fa-gift text-6xl animate-bounce"></i>
        </div>
        <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-bold text-gray-800 mb-4 text-shadow">
            å‡†å¤‡å¥½è¿æ¥æƒŠå–œäº†å—ï¼Ÿ
        </h1>
        <p class="text-gray-600 mb-8 text-lg">
            ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¼€å¯å±äºä½ çš„å°ç¾å¥½
        </p>
        <button id="surprise-btn" class="btn-pulse bg-accent hover:bg-pink-500 text-white font-semibold py-3 px-8 rounded-full shadow-lg transform transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-pink-300">
            å¼€å¯æƒŠå–œ <i class="fa fa-arrow-right ml-2"></i>
        </button>
    </div>

    <!-- æƒŠå–œç•Œé¢ (åˆå§‹éšè—) -->
    <div id="surprise-screen" class="fixed inset-0 flex items-center justify-center bg-black/90 z-50 hidden">
        <canvas id="fireworks" class="absolute inset-0 w-full h-full"></canvas>
        <div class="text-center text-white z-10 px-4">
            <h2 class="text-[clamp(1.5rem,4vw,2.2rem)] font-bold mb-4">ğŸ‰ ç»™ä½ çš„å°æƒŠå–œï¼</h2>
            <p class="text-[clamp(1rem,3vw,1.5rem)] mb-6 max-w-lg mx-auto">
                æ„¿ä½ æ¯å¤©éƒ½åƒè¿™çƒŸèŠ±ä¸€æ ·ï¼Œç»šçƒ‚å¤ºç›®ï¼Œå……æ»¡å–œæ‚¦
            </p>
            <button id="reset-btn" class="bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white font-medium py-2 px-6 rounded-full transition-all hover:scale-105">
                å†æ¥ä¸€æ¬¡ <i class="fa fa-refresh ml-2"></i>
            </button>
        </div>
    </div>

    <script>
        // è·å–å…ƒç´ 
        const initialScreen = document.getElementById('initial-screen');
        const surpriseScreen = document.getElementById('surprise-screen');
        const surpriseBtn = document.getElementById('surprise-btn');
        const resetBtn = document.getElementById('reset-btn');
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');
        
        // è®¾ç½®Canvaså°ºå¯¸
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // çƒŸèŠ±ç›¸å…³å˜é‡
        let fireworks = [];
        let particles = [];
        
        // é¢œè‰²æ•°ç»„
        const colors = [
            '#ff5252', '#ff4081', '#e91e63', 
            '#9c27b0', '#673ab7', '#3f51b5', 
            '#2196f3', '#03a9f4', '#00bcd4', 
            '#009688', '#4CAF50', '#8BC34A', 
            '#CDDC39', '#FFEB3B', '#FFC107', 
            '#FF9800', '#FF5722'
        ];
        
        // çƒŸèŠ±ç±»
        class Firework {
            constructor() {
                this.x = canvas.width / 2;
                this.y = canvas.height;
                this.targetY = Math.random() * (canvas.height * 0.3) + 50;
                this.targetX = Math.random() * (canvas.width * 0.7) + canvas.width * 0.15;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.radius = 2;
                this.speed = 5;
                this.velocity = { x: 0, y: 0 };
                this.gravity = 0.05;
                this.reachedTarget = false;
                this.trail = [];
            }
            
            update() {
                // è®°å½•è½¨è¿¹
                this.trail.push({ x: this.x, y: this.y, alpha: 1 });
                if (this.trail.length > 20) {
                    this.trail.shift();
                }
                
                // è®¡ç®—åˆ°ç›®æ ‡çš„è·ç¦»
                const dx = this.targetX - this.x;
                const dy = this.targetY - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                // ç§»åŠ¨åˆ°ç›®æ ‡
                if (distance > this.speed) {
                    this.velocity.x = (dx / distance) * this.speed;
                    this.velocity.y = (dy / distance) * this.speed;
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;
                } else {
                    this.reachedTarget = true;
                    // çˆ†ç‚¸äº§ç”Ÿç²’å­
                    this.explode();
                }
            }
            
            explode() {
                const particleCount = Math.floor(Math.random() * 50) + 80;
                for (let i = 0; i < particleCount; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 5 + 1;
                    particles.push({
                        x: this.x,
                        y: this.y,
                        color: this.color,
                        radius: Math.random() * 2 + 1,
                        velocity: {
                            x: Math.cos(angle) * speed,
                            y: Math.sin(angle) * speed
                        },
                        gravity: 0.05,
                        friction: 0.95,
                        alpha: 1
                    });
                }
            }
            
            draw() {
                // ç»˜åˆ¶è½¨è¿¹
                this.trail.forEach((point, index) => {
                    ctx.beginPath();
                    ctx.arc(point.x, point.y, this.radius * (index / this.trail.length), 0, Math.PI * 2);
                    ctx.fillStyle = `${this.color}${Math.floor(point.alpha * 255).toString(16).padStart(2, '0')}`;
                    ctx.fill();
                    point.alpha -= 0.05;
                });
                
                // ç»˜åˆ¶çƒŸèŠ±æœ¬ä½“
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        }
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            requestAnimationFrame(animate);
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // éšæœºå‘å°„çƒŸèŠ±
            if (Math.random() < 0.05) {
                fireworks.push(new Firework());
            }
            
            // æ›´æ–°å’Œç»˜åˆ¶çƒŸèŠ±
            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].update();
                fireworks[i].draw();
                
                if (fireworks[i].reachedTarget) {
                    fireworks.splice(i, 1);
                }
            }
            
            // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                
                p.velocity.y += p.gravity;
                p.velocity.x *= p.friction;
                p.velocity.y *= p.friction;
                p.x += p.velocity.x;
                p.y += p.velocity.y;
                p.alpha -= 0.01;
                
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fillStyle = `${p.color}${Math.floor(p.alpha * 255).toString(16).padStart(2, '0')}`;
                ctx.fill();
                
                if (p.alpha <= 0) {
                    particles.splice(i, 1);
                }
            }
        }
        
        // äº‹ä»¶ç›‘å¬
        surpriseBtn.addEventListener('click', () => {
            initialScreen.classList.add('opacity-0', 'pointer-events-none');
            setTimeout(() => {
                initialScreen.classList.add('hidden');
                surpriseScreen.classList.remove('hidden');
                // å¼€å§‹åŠ¨ç”»
                animate();
                // å®šæœŸå‘å°„çƒŸèŠ±
                setInterval(() => {
                    if (Math.random() > 0.3) {
                        fireworks.push(new Firework());
                    }
                }, 800);
            }, 500);
        });
        
        resetBtn.addEventListener('click', () => {
            // æ¸…ç©ºç°æœ‰çƒŸèŠ±å’Œç²’å­
            fireworks = [];
            particles = [];
            // éšè—æƒŠå–œç•Œé¢ï¼Œæ˜¾ç¤ºåˆå§‹ç•Œé¢
            surpriseScreen.classList.add('hidden');
            initialScreen.classList.remove('hidden', 'opacity-0', 'pointer-events-none');
        });
    </script>
</body>
</html>
